# 開発基本ルール

## 🔒 絶対厳守事項

### 1. 機能・UIの保持原則
**既存の機能やUIコンポーネントは、明示的な指示がない限り絶対に削除しない**

- ✅ 機能の追加・拡張は自由
- ✅ 既存機能の改善・最適化は推奨
- ❌ 機能の削除は禁止（指示がある場合を除く）
- ❌ UIコンポーネントの削除は禁止（指示がある場合を除く）

### 2. 開発時の確認事項
作業開始前に必ず以下を確認：
1. 既存機能のリストアップ
2. 影響範囲の確認
3. 削除ではなく改善で対応できないか検討

### 3. コード変更時の原則
```
既存コード + 新機能 = OK
既存コード - 機能 = NG（指示がない限り）
```

## 📋 開発チェックリスト

### コード変更前
- [ ] 既存機能を把握しているか
- [ ] 削除しようとしている箇所がないか
- [ ] 代替案（改善・拡張）を検討したか

### コード変更後
- [ ] 既存機能が全て動作するか
- [ ] UIが欠けていないか
- [ ] 新機能が既存機能と調和しているか

## 🚨 違反例と対処法

### ❌ 悪い例
```javascript
// 認証をスキップするために認証機能を削除
// const { user, isAuthenticated } = useAuth()  // 削除
const user = mockUser  // 置き換え
```

### ✅ 良い例
```javascript
// 認証とモックを両立
const { user: authUser, isAuthenticated } = useAuth()
const user = process.env.NODE_ENV === 'test' ? mockUser : authUser
```

## 🔧 例外的な削除が必要な場合

以下の手順を踏む：
1. なぜ削除が必要か明確に説明
2. 削除による影響を列挙
3. ユーザーの明示的な承認を得る
4. 削除前の状態をコメントで保存

```javascript
// 削除承認済み: [日付] [理由]
// 元のコード:
// function oldFeature() { ... }
```

## 📝 このルールの更新

このルールは以下の場合のみ更新可能：
- ユーザーからの明示的な指示
- プロジェクトの方針変更

最終更新: 2025/06/13